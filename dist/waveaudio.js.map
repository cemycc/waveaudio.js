{"version":3,"file":null,"sources":["../node_modules/rollup-plugin-typescript/src/typescript-helpers.js","../src/base.ts","../src/event.dispatcher.ts","../src/audio.context.ts","../src/canvas.context.ts","../src/main.ts"],"sourcesContent":["export const __assign = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) {\n        source = arguments[i];\n        for (var prop in source) {\n            if (Object.prototype.hasOwnProperty.call(source, prop)) {\n                target[prop] = source[prop];\n            }\n        }\n    }\n    return target;\n};\n\nexport function __extends(d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport function __decorate(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __metadata(k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n}\n\nexport function __param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n}\n","export interface IProperties {\n    wrapper: HTMLElement | string;\n    audioFiles: Array<string> | string;\n    audioChannel: number;\n}\n\nexport class BaseClass {\n    private properties: IProperties;\n\n    constructor(properties: IProperties, validate?: boolean) {\n        this.properties = properties;\n        if (validate) {\n            this.validateProperties();\n        }\n    }\n\n    public validateProperties() {\n        if (typeof this.properties.wrapper === \"string\") {\n            this.properties.wrapper = <HTMLElement> document.querySelector(<string> this.properties.wrapper);\n            if (!this.properties.wrapper) {\n                throw new Error(\"No wrapper element was found\");\n            }\n        } else if (!(this.properties.wrapper instanceof HTMLElement)) {\n            throw new Error(\"Invalid wrapper element\");\n        }\n\n        if (typeof this.properties.audioFiles !== \"string\" && !(this.properties.audioFiles instanceof Array)) {\n            throw new Error(\"Invalid data for audio files\");\n        }\n        this.properties.audioFiles = [].concat(this.properties.audioFiles);\n    }\n\n    public setProperties(extended: BaseClass) {\n        for (let prop in this.properties) {\n            if (extended.hasOwnProperty(prop) && this.properties.hasOwnProperty(prop)) {\n                extended[prop] = this.properties[prop];\n            }\n        }\n    }\n\n    public getProperties(): IProperties {\n        return this.properties;\n    }\n}\n","\n/**\n * Credits for event dispatcher class\n * http://stackoverflow.com/questions/12881212/does-typescript-support-events-on-classes\n */\n\ninterface IEventDispatcher<T> {\n    on(handler: { (data?: T): void }): void;\n    off(handler: { (data?: T): void }): void;\n}\n\nexport class EventDispatcher<T> implements EventDispatcher<T> {\n    private handlers: { (data?: T): void; }[] = [];\n\n    public on(handler: { (data?: T): void }) {\n        this.handlers.push(handler);\n    }\n\n    public off(handler: { (data?: T): void }) {\n        this.handlers = this.handlers.filter(h => h !== handler);\n    }\n\n    public trigger(data?: T) {\n        this.handlers.slice(0).forEach(h => h(data));\n    }\n}","import {IProperties, BaseClass} from \"./base\";\nimport {EventDispatcher} from \"./event.dispatcher\";\n\nexport class AudioContext extends BaseClass {\n    public audioFiles: Array<string> = undefined;\n\n    private ctx: AudioContext;\n    private sourceBuffers: Array<AudioBuffer> = [];\n    private buffer: AudioBuffer;\n\n    private onDecodedBuffers = new EventDispatcher<AudioBuffer>();\n\n    constructor(properties: IProperties) {\n        super(properties);\n        super.setProperties(this);\n\n        this.ctx = new (window.AudioContext || window.webkitAudioContext)();\n    }\n\n    public decodeBuffersFromPromises(promises: Array<Promise<any>>)  {\n        Promise.all(promises).then((buffers: any) => {\n            this.decodeBuffers(buffers);\n        }).catch((error: Error) => {\n            console.error(error);\n        });\n    }\n\n    public decodeBuffers(buffers: Array<ArrayBuffer>) {\n        let promises: Array<AudioBuffer> = buffers.map((buffer) => this.ctx.decodeAudioData(buffer));\n\n        Promise.all(promises)\n            .then(bfs => {\n                this.sourceBuffers = this.sourceBuffers.concat(bfs);\n\n                if (this.buffer !== undefined) {\n                    bfs = bfs.concat(this.buffer);\n                }\n                // TODO: when the buffer is changed, the source.buffer assignation should be also changed !\n                this.buffer = this.createAudioBuffer(bfs);\n                this.onDecodedBuffers.trigger(this.buffer);\n\n                // let source = this.ctx.createBufferSource();\n                // source.buffer = this.buffer;\n                // source.connect(this.ctx.destination);\n                // source.start();\n            }).catch((error: Error) => {\n                console.error(error);\n            });\n    }\n\n    public get decodedBuffers(): EventDispatcher<AudioBuffer> {\n        return this.onDecodedBuffers;\n    };\n\n    public get currentTime(): number {\n        return this.ctx.currentTime;\n    }\n\n    private createAudioBuffer(fromAudioBuffers: Array<AudioBuffer>) {\n        let maxChannels: number = 0;\n        let totalDuration: number = 0;\n\n        for (let abf of fromAudioBuffers) {\n            if (abf.numberOfChannels > maxChannels) {\n                maxChannels = abf.numberOfChannels;\n            }\n            totalDuration += abf.duration;\n        }\n\n        let resultBuffer: AudioBuffer = this.ctx.createBuffer(maxChannels,\n            this.ctx.sampleRate * totalDuration,\n            this.ctx.sampleRate);\n\n        let idx = 0;\n        do {\n            let data: Array<Float32Array> = [];\n            fromAudioBuffers.forEach(abf => {\n                if (idx <= abf.numberOfChannels - 1) {\n                    data.push(abf.getChannelData(idx));\n                } else {\n                    data.push(new Float32Array(abf.getChannelData(0).length));\n                }\n            });\n\n            resultBuffer.copyToChannel(this.concatBuffersData(data), idx, 0);\n        } while (++idx < maxChannels);\n\n        return resultBuffer;\n    }\n\n    private concatBuffersData(buffersData: Array<Float32Array>): Float32Array {\n        let resultLength: number = buffersData.reduce((base, item) => base + item.length, 0);\n        let resultArray: Float32Array = new Float32Array(resultLength);\n        let idx: number = 0;\n\n        for (let bf of buffersData) {\n            if (idx === 0) {\n                resultArray.set(bf);\n            } else {\n                resultArray.set(bf, buffersData[idx - 1].length);\n            }\n            idx++;\n        }\n\n        return resultArray;\n    }\n}\n","import {IProperties, BaseClass} from \"./base\";\n\ninterface CanvasRectObject {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nexport class CanvasContext extends BaseClass {\n    public framesColor: string = \"rgb(208, 215, 220)\";\n    public framesElapsedColor: string = \"rgb(47,79,79)\";\n    public framesWidthBar: number = 1;\n    public timelineHeight: number = 40;\n    public timelineFont: string = \"9px Arial\";\n    public timelineTimeColor: string = \"rgb(47,79,79)\";\n    public timelineBarColor: string = \"rgb(128,128,128)\";\n    public barHeight: number = 7;\n    public barWidth: number = 0.5;\n    public barLargeGroupCount: number = 10;\n    public barSmallGroupCount: number = 5;\n    public wrapper: HTMLElement = undefined;\n\n    private staticEl: HTMLElement;\n    private framesEl: HTMLElement;\n    private staticCtx: CanvasRenderingContext2D;\n    private framesCtx: CanvasRenderingContext2D;\n    private ratio: number;\n    private renderRectData: Array<CanvasRectObject>;\n    private rafId: number;\n\n    private step: number;\n    private audioData: Array<Array<number>>;\n    private audioDuration: number;\n    private audioProgress: Function;\n    private audioCompletedStatus: Function;\n\n    constructor(properties: IProperties) {\n        super(properties);\n        super.setProperties(this);\n\n        this.staticEl = document.createElement(\"canvas\");\n        this.staticCtx = this.staticEl.getContext(\"2d\");\n\n        this.framesEl = document.createElement(\"canvas\");\n        this.framesEl.style.position = \"absolute\";\n        this.framesEl.style.top = \"0\";\n        this.framesEl.style.left = \"0\";\n\n        this.framesCtx = this.framesEl.getContext(\"2d\");\n\n        let backingStoreRatio: number = this.staticCtx.webkitBackingStorePixelRatio ||\n                                    this.staticCtx.mozBackingStorePixelRatio ||\n                                    this.staticCtx.msBackingStorePixelRatio ||\n                                    this.staticCtx.oBackingStorePixelRatio ||\n                                    this.staticCtx.backingStorePixelRatio || 1;\n        this.ratio = window.devicePixelRatio / backingStoreRatio;\n\n        this.resize();\n        this.wrapper.appendChild(this.staticEl);\n        this.wrapper.appendChild(this.framesEl);\n    }\n\n    public get width(): number {\n        return this.staticEl.width / this.ratio;\n    }\n\n    public set width(value: number) {\n        for (let el of [\"staticEl\", \"framesEl\"]) {\n            this[el].width = value * this.ratio;\n            this[el].style.width = value + \"px\";\n        }\n    }\n\n    public get height(): number {\n        return this.staticEl.height / this.ratio;\n    }\n\n    public set height(value: number) {\n        for (let el of [\"staticEl\", \"framesEl\"]) {\n            this[el].height = value * this.ratio;\n            this[el].style.height = value + \"px\";\n        }\n    }\n\n    public resize() {\n        this.width = this.wrapper.offsetWidth;\n        this.height = this.wrapper.offsetHeight;\n\n        this.staticCtx.scale(this.ratio, this.ratio);\n        this.framesCtx.scale(this.ratio, this.ratio);\n    }\n\n    public loadAudioData(bufferData: Float32Array,\n            duration: number,\n            progress: () => number,\n            completed: () => boolean) {\n        this.audioProgress = progress;\n        this.audioCompletedStatus = completed;\n        this.audioDuration = duration;\n        this.computeValues(bufferData);\n\n        this.clear();\n    }\n\n    public draw() {\n        this.computeRenderData((rectObj: CanvasRectObject, idx: number) => {\n            this.staticCtx.fillStyle = this.framesColor;\n            this.staticCtx.fillRect(rectObj.x, rectObj.y, rectObj.width, rectObj.height);\n        });\n\n        this.drawTimeline(this.audioDuration);\n        this.startRenderingProgress();\n    }\n\n    public startRenderingProgress() {\n        let rafFct = () => {\n            this.drawFrames(this.audioProgress());\n\n            if (this.audioCompletedStatus()) {\n                this.stopRenderingProgress();\n            } else {\n                this.rafId = requestAnimationFrame(rafFct);\n            }\n        };\n        this.rafId = requestAnimationFrame(rafFct);\n    }\n\n    public stopRenderingProgress() {\n        if (this.rafId) {\n            cancelAnimationFrame(this.rafId);\n        }\n    }\n\n    private drawFrames(fillTo: number) {\n        this.clear(true);\n\n        for (let rectObj of this.renderRectData) {\n            this.framesCtx.fillStyle = this.framesElapsedColor;\n            this.framesCtx.fillRect(rectObj.x, rectObj.y, rectObj.width, rectObj.height);\n\n            if (rectObj.x > fillTo) {\n                break;\n            }\n        }\n    }\n\n    private computeRenderData(callback?: (rectObj, idx) => void) {\n        this.renderRectData = new Array();\n\n        let middle: number = (this.height - this.timelineHeight) / 2;\n        let idx: number = 0;\n        for (let interval of this.audioData) {\n            let rectObj: CanvasRectObject = {\n                x: idx,\n                y: Math.ceil((1 + interval[0]) * middle),\n                width: this.framesWidthBar,\n                height: Math.max(1, (interval[1] - interval[0]) * middle),\n            };\n            this.renderRectData.push(rectObj);\n\n            if (typeof callback === \"function\") {\n                callback(rectObj, idx);\n            }\n            idx++;\n        }\n    }\n\n    private computeValues(bufferData: Float32Array) {\n        this.audioData = new Array(this.width);\n        this.step = Math.ceil(bufferData.length / this.width);\n\n        for (let i = 0; i < this.width; i += 1) {\n            let min = 1.0;\n            let max = -1.0;\n            for (let j = 0; j < this.step; j += 1) {\n                let curr = bufferData[(i * this.step) + j];\n                if (curr < min) {\n                    min = curr;\n                } else if (curr > max) {\n                    max = curr;\n                }\n            }\n            this.audioData[i] = [min, max];\n        }\n    }\n\n    private drawTimeline(duration: number) {\n        let secs = Math.ceil(duration);\n        let gapSize = this.width / secs;\n        let gapSizeBar = gapSize / this.barSmallGroupCount;\n        let timelineMiddle = Math.floor(this.timelineHeight / 2);\n\n        let drawTime = (time: number, leftPadding: number): void => {\n            let timeStr = this.toHHMMSS(time);\n            let timeStrW = this.staticCtx.measureText(timeStr).width;\n            let timeStrH = parseInt(this.staticCtx.font, 10);\n\n            let xPos;\n            if (leftPadding === 0) {\n                xPos = 0;\n            } else if (leftPadding === this.width) {\n                xPos = leftPadding - timeStrW;\n            } else {\n                xPos = leftPadding - timeStrW / 2;\n            }\n\n            this.staticCtx.fillStyle = this.timelineTimeColor;\n            this.staticCtx.fillText(timeStr,\n                xPos,\n                this.height - timelineMiddle + timeStrH);\n        };\n\n        this.staticCtx.font = this.timelineFont;\n        for (let sec = 0; sec <= secs; sec++) {\n            let height = this.barHeight;\n            let leftPadding = gapSize * sec;\n            if (sec % this.barLargeGroupCount === 0 || sec === secs) {\n                height += this.barHeight / 2;\n                drawTime(sec, leftPadding);\n            }\n\n            let xPos = leftPadding === 0 ? 0 : leftPadding - 1;\n\n            this.staticCtx.fillStyle = this.timelineBarColor;\n            this.staticCtx.fillRect(xPos,\n                this.height - timelineMiddle - height,\n                this.barWidth,\n                height);\n            for (let bar = 1; bar < this.barSmallGroupCount; bar++) {\n                height = this.barHeight / 2;\n                this.staticCtx.fillRect(xPos + bar * gapSizeBar,\n                    this.height - timelineMiddle - height,\n                    this.barWidth,\n                    height);\n            }\n        }\n\n    }\n\n    private clear(onlyFramesCtx?: boolean) {\n        if (!onlyFramesCtx) {\n            this.staticCtx.clearRect(0, 0, this.width, this.height);\n        }\n        this.framesCtx.clearRect(0, 0, this.width, this.height);\n    }\n\n    private toHHMMSS(secs: number) {\n        let hours: any = Math.floor(secs / 3600);\n        let minutes: any = Math.floor((secs - (hours * 3600)) / 60);\n        let seconds: any = secs - (hours * 3600) - (minutes * 60);\n\n        if (hours < 10) {\n            hours = \"0\" + hours.toString();\n        }\n        if (minutes < 10) {\n            minutes = \"0\" + minutes.toString();\n        }\n        if (seconds < 10) {\n            seconds = \"0\" + seconds.toString();\n        }\n        if (hours === \"00\") {\n            return minutes + \":\" + seconds;\n        } else {\n            return hours + \":\" + minutes + \":\" + seconds;\n        }\n\n    }\n\n}\n","import {IProperties, BaseClass} from \"./base\";\nimport {AudioContext} from \"./audio.context\";\nimport {CanvasContext} from \"./canvas.context\";\n\nexport class Main extends BaseClass {\n\n    private audioCtx: AudioContext;\n    private canvasCtx: CanvasContext;\n\n    constructor(properties: IProperties) {\n        super(properties, true);\n\n        this.canvasCtx  = new CanvasContext(super.getProperties());\n        this.audioCtx   = new AudioContext(super.getProperties());\n\n        let promises: Array<Promise<any>> = this.audioCtx.audioFiles.map(this.sendRequest);\n\n        this.audioCtx.decodedBuffers.on(audioBuffer => this.render(audioBuffer));\n\n        this.audioCtx.decodeBuffersFromPromises(promises);\n    }\n\n    private render(audioBuffer: AudioBuffer) {\n        this.canvasCtx.loadAudioData(\n            audioBuffer.getChannelData(0),\n            audioBuffer.duration,\n            () => this.audioCtx.currentTime / audioBuffer.duration * this.canvasCtx.width,\n            () => this.audioCtx.currentTime > audioBuffer.duration\n        );\n        this.canvasCtx.draw();\n    }\n\n    private sendRequest(fileURL): Promise<any> {\n        return new Promise((resolve, reject) => {\n            let request = new XMLHttpRequest();\n\n            request.open(\"GET\", fileURL, true);\n            request.responseType = \"arraybuffer\";\n            request.onload = () => {\n                resolve(request.response);\n            };\n            request.onerror = function() {\n                reject(\"Invalid audio file \" + fileURL);\n            };\n            request.send();\n        });\n    }\n}\n"],"names":[],"mappings":"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"}